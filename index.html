<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
        <title>Gamepad API</title>
        <style type="text/css">
            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }
        </style>
        <!-- <link rel="shortcut icon" href="./favicon.ico" /> -->
        <script type="text/javascript" src="gamepad.js"></script>
        <script type="text/javascript">
            window.addEventListener('gamepad:change', function (event) {
                console.log(event.kind, event.which, event.value, event);
            }, true);
            window.addEventListener('gamepad:buttondown', function (event) {
                console.log(event.type, event.which, event.value, event);
            }, true);
            window.addEventListener('gamepad:buttonup', function (event) {
                console.log(event.type, event.which, event.value, event);
            }, true);
            window.addEventListener("gamepadconnected", (event) => {
                var gamepad = event.gamepad, buttons = gamepad.buttons, button_objects = [], button_values = [], axes_values = [];
                for (let k = 0, len = buttons.length; k < len; k += 1) {
                    // Gamepad objects can't be stringified
                    let button = buttons[k], entry = {
                        pressed: button.pressed,
                        touched: button.touched,
                        value: button.value
                    };
                    button_objects.push(button);
                    button_values.push(button.value);
                    // button_values.push(entry);
                }
                // window.button_values = button_values;
                console.log(button_values, button_objects);
                // console.log(event.gamepad);
            });
        </script>
    </head>
    <body>

    </body>
</html>